# Typing Japanese - 日语打字练习系统

编程小白使用ai，制作一个基于 Web 的日语打字练习系统，帮助用户学习和练习日语输入。
调教ai太难了。

## 项目目标

- 提供友好的日语打字练习界面
- 支持单词和分词练习模式
- 实时反馈输入正确性
- 提供发音和答案提示功能
- 课程进度追踪

## 项目结构 
project/
├── index.html # 课程选择页面
├── practice.html # 练习界面
├── css/
│ ├── index.css # 课程选择页面样式
│ └── practice.css # 练习界面样式
├── js/
│ ├── practice.js # 练习核心逻辑
│ └── dataLoader.js # 数据加载模块
└── data/
└── course/ # 课程数据
├── kimochi/ # 感情相关课程
├── gimon/ # 疑问句课程
└── ...

## 核心功能

### 1. 课程选择 (index.html)
- 显示所有可用课程
- 课程卡片点击跳转到对应练习
- 参数传递：`course` 和 `lesson` 通过 URL 参数传递

### 2. 练习界面 (practice.html)
- 显示题目和输入区域
- 实时反馈
- 答案显示
- 进度追踪
- 语音播放

### 3. 输入模式

#### 单词模式 (type="normal")
- 单个输入框
- Enter 键提交答案
- 支持假名和罗马音输入

#### 分词模式 (type="split")
- 多个输入框
- 空格键在输入框间跳转
- 支持假名和汉字输入

### 4. 快捷键功能
- `Tab`: 显示完整答案
- `Control`: 播放语音
- `Space`: 在分词模式中跳转到下一个输入框
- `Enter`: 提交答案

## 数据结构

### 课程数据格式 (lesson1.json)
json
{
"courseId": {
"title": "课程标题",
"description": "课程描述",
"lessons": [
{
"id": "lessonId",
"title": "课节标题",
"description": "课节描述",
"questions": [
{
"character": "日语原文",
"hiragana": "假名",
"romaji": "罗马音",
"meaning": "中文含义",
"type": "normal/split",
"answers": ["正确答案1", "正确答案2"]
}
]
}
]
}
}

## 核心类说明

### PracticeManager
主要练习管理类，处理所有练习相关的逻辑。

#### 主要方法
- `constructor()`: 初始化练习管理器
- `init()`: 初始化练习数据和界面
- `showQuestion()`: 显示当前题目
- `checkAnswer()`: 检查答案正确性
- `showCorrectAnswer()`: 显示正确答案
- `nextQuestion()`: 进入下一题
- `speak()`: 播放语音

### DataLoader
数据加载类，处理课程数据的加载。

#### 主要方法
- `loadLessonData(course, lessonId)`: 加载课程数据
- `getCourseWithLessonData(course, lessonId)`: 获取课程和课节数据

## 状态反馈

### 输入状态
- 正确：输入框和文字显示绿色
- 错误：输入框和文字显示红色，并有抖动效果
- 焦点：输入框边框显示蓝色

### 答案显示
- 汉字/假名显示
- 罗马音显示
- 中文含义显示
- 自动语音播放

## 使用说明

1. 启动本地服务器（必需，因为使用了模块和fetch API）
2. 访问 index.html 选择课程
3. 在练习界面输入答案
4. 使用快捷键获取帮助
5. 完成所有题目后显示完成界面

## 注意事项

1. 需要现代浏览器支持
2. 需要通过 Web 服务器访问
3. 语音功能需要浏览器支持语音合成 API
4. 确保所有课程数据文件格式正确


## 开发计划

### 第一阶段：前端基础功能 ✅
- 课程选择界面
- 练习界面
- 输入验证
- 答案显示
- 语音播放

### 第二阶段：课程生成工具 🚀
计划开发一个自动课程生成工具，用于快速创建练习内容。

#### 功能描述
输入示例：
お会いできて嬉しい。
Japanese | hiragana　　| romaji | meaning | type | notes
お会いできて | おあいできて | oaidekite | 能够见到你 | normal | 基础词汇
嬉しい | うれしい | uresii | 开心 | normal | 基础词汇
お会いできて嬉しい | おあいできて:うれしい | oaidekite:uresii | 能够见到你很开心 | split | 分开输入

#### 核心功能需求
1. **句子分析**
   - 自动分词
   - 假名转换
   - 罗马音生成
   - 中文含义解析

2. **数据转换**
   - 生成单词练习（normal 类型）
   - 生成句子练习（split 类型）
   - 导出符合课程 JSON 格式的数据

3. **工具特性**
   - Web 界面操作
   - 实时预览
   - 支持手动调整
   - 批量处理能力

#### 技术路线
- 日语形态素分析：kuromoji.js
- 假名转换：kuroshiro.js
- 翻译功能：待定（考虑多种方案）
- 数据存储：JSON 格式

#### 实现难点
- 准确的分词处理
- 上下文相关的翻译
- 合适的练习类型判断
- 翻译质量保证


### 第三阶段：学习记录功能 📝

#### 功能描述
本地存储用户的学习进度和数据统计信息。

#### 数据结构

#### 核心功能需求
1. **进度记录**
   - 课程完成状态
   - 最后学习位置
   - 完成时间记录
   - 学习时长统计

2. **数据统计**
   - 答题正确率
   - 学习时间统计
   - 完成课程数量
   - 学习频率分析

3. **存储方案**
   - 使用 localStorage 本地存储
   - 自动保存进度
   - 断点续学支持
   - 数据导出备份

4. **界面展示**
   - 进度显示
   - 统计数据查看
   - 学习历史记录
   - 成就系统

#### 实现重点
- 数据持久化处理
- 实时进度保存
- 统计算法优化
- 用户体验优化

#### 后续扩展
- 学习统计图表
- 个性化学习建议
- 复习提醒功能
- 学习进度分享


